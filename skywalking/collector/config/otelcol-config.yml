---
receivers:
  otlp:
    protocols:
      grpc:
      http:
  otlp/2:
    protocols:
      grpc:
        endpoint: 0.0.0.0:55690

extensions:
  health_check:
  pprof:
  zpages:

service:
  extensions: [health_check, pprof, zpages]
  pipelines:
    traces:
      receivers: [otlp]
      processors: [batch]
      exporters: [debug, zipkin, otlp/data-prepper/traces]
    traces/2:
      receivers: [otlp/2]
      processors: [batch]
      exporters: [debug, zipkin, otlp/data-prepper/traces]
    metrics:
      receivers: [otlp]
      processors: [batch]
      exporters: [otlp/skywalking, otlp/data-prepper/metrics, debug]
    # logs:
    #   receivers: [otlp]
    #   processors: [batch]
    #   exporters: [zipkin]
exporters:
  debug:
  # Data sources: traces
  zipkin:
    endpoint: http://skywalking:9412/api/v2/spans
  otlp/skywalking:
    endpoint: skywalking:11800
    tls:
      insecure: "true"
  otlp/data-prepper/traces:
    endpoint: http://data-prepper:21890
    tls:
      insecure: true
      insecure_skip_verify: true
  otlp/data-prepper/metrics:
    endpoint: http://data-prepper:21891
    tls:
      insecure: true
      insecure_skip_verify: true
processors:
    batch:
    span:
